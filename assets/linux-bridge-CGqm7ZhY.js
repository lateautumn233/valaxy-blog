import{_ as p}from"./ValaxyMain.vue_vue_type_style_index_0_lang-C6iFaOKN.js";import{a as u,p as c,o as m,c as g,w as s,f as h,q as b,r as n,g as a,h as e}from"./app-DJXMUuPO.js";import"./YunFooter.vue_vue_type_script_setup_true_lang-Cm-I7XME.js";import"./YunCard.vue_vue_type_script_setup_true_lang-CC1xuBOh.js";import"./YunPageHeader.vue_vue_type_script_setup_true_lang-D34gyHKd.js";import"./index-C7yU5XnD.js";const f=a("h1",{id:"linux网桥",tabindex:"-1"},[e("linux网桥 "),a("a",{class:"header-anchor",href:"#linux网桥","aria-label":'Permalink to "linux网桥"'},"​")],-1),_=a("blockquote",null,[a("p",null,"在虚拟化环境中，你可能有多个虚拟机以及宿主机的网络接口，使用网桥可以使它们在同一个网络中进行通信。这有助于虚拟机之间的直接通信，并能够方便地与物理网络交互。")],-1),v=a("p",null,"以下任选其一",-1),y=a("h2",{id:"命令行配置",tabindex:"-1"},[e("命令行配置 "),a("a",{class:"header-anchor",href:"#命令行配置","aria-label":'Permalink to "命令行配置"'},"​")],-1),k=a("p",null,[e("1."),a("strong",null,"创建网桥设备")],-1),x=a("div",{class:"language- vp-adaptive-theme"},[a("button",{title:"Copy Code",class:"copy"}),a("span",{class:"lang"}),a("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[a("code",{"v-pre":""},[a("span",{class:"line"},[a("span",null,"nmcli c add type bridge autoconnect yes con-name br0 ifname br0")])])]),a("button",{class:"collapse"})],-1),$=a("p",null,[e("2."),a("strong",null,"配置网桥ipv4")],-1),w=a("div",{class:"language- vp-adaptive-theme"},[a("button",{title:"Copy Code",class:"copy"}),a("span",{class:"lang"}),a("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[a("code",{"v-pre":""},[a("span",{class:"line"},[a("span",null,"动态获取")]),e(`
`),a("span",{class:"line"},[a("span",null,"nmcli c modify br0 ipv4.method auto ")]),e(`
`),a("span",{class:"line"},[a("span",null,"静态获取")]),e(`
`),a("span",{class:"line"},[a("span",null,"nmcli c modify br0 ipv4.method manual ipv4.address 192.168.3.10 ")]),e(`
`),a("span",{class:"line"},[a("span",null,"nmcli c modify br0 ipv4.gateway 192.168.3.1")]),e(`
`),a("span",{class:"line"},[a("span",null,"nmcli c modify br0 ipv4.dns 192.168.3.1")])])]),a("button",{class:"collapse"})],-1),C=a("p",null,[e("3."),a("strong",null,"删除原有有线连接")],-1),T=a("div",{class:"language- vp-adaptive-theme"},[a("button",{title:"Copy Code",class:"copy"}),a("span",{class:"lang"}),a("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[a("code",{"v-pre":""},[a("span",{class:"line"},[a("span",null,"nmcli c delete eno1")])])]),a("button",{class:"collapse"})],-1),q=a("p",null,[e("4."),a("strong",null,"绑定网卡")],-1),N=a("div",{class:"language- vp-adaptive-theme"},[a("button",{title:"Copy Code",class:"copy"}),a("span",{class:"lang"}),a("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[a("code",{"v-pre":""},[a("span",{class:"line"},[a("span",null,"nmcli c add type bridge-slave autoconnect yes con-name enp3s0f3u2c2 master br0")])])]),a("button",{class:"collapse"})],-1),S=a("p",null,[e("5."),a("strong",null,"重启Linux")],-1),U=a("figure",null,[a("img",{src:"https://999-1257394446.cos.ap-hongkong.myqcloud.com/img/cb563b2c109bda0bc90f52e408e1aa91.image.webp",alt:"cb563b2c109bda0bc90f52e408e1aa91.image.webp",loading:"lazy",decoding:"async"})],-1),B=a("h2",{id:"gui配置",tabindex:"-1"},[e("GUI配置 "),a("a",{class:"header-anchor",href:"#gui配置","aria-label":'Permalink to "GUI配置"'},"​")],-1),I=a("p",null,[a("strong",null,"无线网卡需设置4addr模式")],-1),P=a("div",{class:"language- vp-adaptive-theme"},[a("button",{title:"Copy Code",class:"copy"}),a("span",{class:"lang"}),a("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[a("code",{"v-pre":""},[a("span",{class:"line"},[a("span",null,"# /etc/udev/rules.d/91-wifi-4addr-mode.rules")]),e(`
`),a("span",{class:"line"},[a("span",null,'ACTION=="add", SUBSYSTEM=="net", ATTRS{address}=="04:cf:4b:21:76:0e", RUN+="/usr/bin/iw dev $name set 4addr on"')]),e(`
`),a("span",{class:"line"},[a("span")]),e(`
`),a("span",{class:"line"},[a("span",null,"#address为网卡mac地址")])])]),a("button",{class:"collapse"})],-1),V=a("figure",null,[a("img",{src:"https://999-1257394446.cos.ap-hongkong.myqcloud.com/img/0cdff1a1a157066100078b0a7b48a773.image.webp",alt:"0cdff1a1a157066100078b0a7b48a773.image.webp",loading:"lazy",decoding:"async"})],-1),Z=a("p",null,[a("img",{src:"https://999-1257394446.cos.ap-hongkong.myqcloud.com/img/141491221067112b81cbc3ce514a1e06.image.webp",alt:"image.png"}),a("strong",null,"建议在常规配置上选中自动连接")],-1),E={__name:"linux-bridge",setup(G,{expose:r}){const l=JSON.parse('{"title":"linux网桥","description":"","frontmatter":{"tags":["Linux"],"title":"linux网桥","sources":["xlog"],"summary":"","attributes":[{"value":"linux-wang-qiao-md","trait_type":"xlog_slug"},{"value":false,"trait_type":"xlog_disable_ai_summary"}],"date":"2023-11-20T04:16:10.717Z","images":null,"modified":"2024-02-17T10:49:34.000Z"},"headers":[{"level":2,"title":"命令行配置","slug":"命令行配置","link":"#命令行配置","children":[]},{"level":2,"title":"GUI配置","slug":"gui配置","link":"#gui配置","children":[]}],"relativePath":"pages/posts/linux-bridge.md","path":"/home/runner/work/valaxy-blog/valaxy-blog/pages/posts/linux-bridge.md","lastUpdated":1708336498000}'),o=u(),i=l.frontmatter||{};return o.meta.frontmatter=Object.assign(o.meta.frontmatter||{},l.frontmatter||{}),c("pageData",l),c("valaxy:frontmatter",i),globalThis.$frontmatter=i,r({frontmatter:{tags:["Linux"],title:"linux网桥",sources:["xlog"],summary:"",attributes:[{value:"linux-wang-qiao-md",trait_type:"xlog_slug"},{value:!1,trait_type:"xlog_disable_ai_summary"}],date:"2023-11-20T04:16:10.717Z",images:null,modified:"2024-02-17T10:49:34.000Z"}}),(t,O)=>{const d=p;return m(),g(d,{frontmatter:h(i)},{"main-content-md":s(()=>[f,_,b(" more "),v,y,k,x,$,w,C,T,q,N,S,U,B,I,P,V,Z]),"main-header":s(()=>[n(t.$slots,"main-header")]),"main-header-after":s(()=>[n(t.$slots,"main-header-after")]),"main-nav":s(()=>[n(t.$slots,"main-nav")]),"main-content":s(()=>[n(t.$slots,"main-content")]),"main-content-after":s(()=>[n(t.$slots,"main-content-after")]),"main-nav-before":s(()=>[n(t.$slots,"main-nav-before")]),"main-nav-after":s(()=>[n(t.$slots,"main-nav-after")]),comment:s(()=>[n(t.$slots,"comment")]),footer:s(()=>[n(t.$slots,"footer")]),aside:s(()=>[n(t.$slots,"aside")]),"aside-custom":s(()=>[n(t.$slots,"aside-custom")]),default:s(()=>[n(t.$slots,"default")]),_:3},8,["frontmatter"])}}};export{E as default};
